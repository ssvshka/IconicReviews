@inject ViewService viewService
@inject NavigationManager navigationManager

<MudCard>
    <MudCardMedia Image=@Review.ImageUrl />
    <MudCardContent>
        <MudText Typo="Typo.h5">@Review.Title</MudText>
        <MudMarkdown Value="@Review.Text" />
        <MudText Typo="Typo.caption">Posted by @Review.User.Email</MudText>
        <MudText Typo="Typo.caption">on @Review.PostedOn.ToString("dd/MM/yyyy HH:mm")</MudText>
        <br />
        <MudText Typo="Typo.caption">Authors Rating: @Review.Work.OverallAuthorRating</MudText>
        <br />
        <MudText Typo="Typo.caption">Users Rating: @Review.Work.OverallUserRating</MudText>
        <br />
        <MudButton OnClick='() => NavigateTo("review", Review.Id)'>Open</MudButton>
    </MudCardContent>
</MudCard>

@code {
    [Parameter]
    public Review Review { get; set; } = default!;

    private void NavigateTo(string page, int? reviewId = null)
        => navigationManager.NavigateTo($"/{page}/{reviewId}");
}
