@inject ViewService viewService
@page "/CreateSubj"

@if (viewService.Works is not null)
{
    foreach (var i in viewService.Works!)
    {
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.body2">WorkTitle: @i.Title</MudText>
                <MudText>Category Number: @i.CategoryId</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => Delete(i)">Delete</MudButton>
            </MudCardActions>
        </MudCard>
    }
}


@code {
    protected override async Task OnInitializedAsync()
    {
        await viewService.GetAllWorksAsync();
    }

    private async Task Delete(Work i)
    {
        await viewService.DeleteWorkAsync(i);
    }
}
